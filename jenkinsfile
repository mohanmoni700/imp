pipeline {

    agent any
    parameters {
     string defaultValue: 'main', name: 'branch', trim: true
    }


    stages {
            stage('stage1-download') {
                
                steps {
                    sh '''
                    echo mohan
                    sleep 5
                    '''
                    
                }
            }    
            
            stage('stage2-testing') {
                 
                steps {
                    
                    catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE') {
                            sh '''
                            echo testing
                            sleep 5
                            
                            '''
                       }     
                     
                }
            }

            stage('stage3-deploy') {
                steps {
                 sh '''
                 echo deploy

                 '''
                 sh 'sleep 5'
                }
            }

    }


}
